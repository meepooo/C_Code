zookeeper

应用场景-分布式锁

1.调用create()创建锁节点的临时顺序节点。

2.调用getChildren()在锁节点。

3.判断子节点的最小节点是否是自己创建的节点。

4.是则获取锁

5.否则没有获取锁，调用exists()监听比自己创建节点最小的节点。

6.如果返回false，则调到第二步，否则等待



讨论：
1.分布式锁的其他实现方案

2.双屏障如何实现

3.公平模式选举如何实现